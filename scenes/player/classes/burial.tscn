[gd_scene load_steps=16 format=3 uid="uid://bmfihgpwa3km"]

[ext_resource type="PackedScene" uid="uid://dlybjknss6baj" path="res://scenes/player/player.tscn" id="1_gmh56"]
[ext_resource type="PackedScene" uid="uid://dohd08viqgmk3" path="res://scenes/weapons/longsword.tscn" id="2_7nb22"]
[ext_resource type="Script" path="res://scenes/player/classes/burial.gd" id="2_icigi"]
[ext_resource type="Texture2D" uid="uid://b5clu1rhc6db0" path="res://assets/gltf/burial_body_Sprite.png" id="4_qfkuq"]
[ext_resource type="Shader" path="res://resources/mat/outline.gdshader" id="5_p1yos"]
[ext_resource type="Material" uid="uid://bjc07iflfr0rn" path="res://resources/mat/character.tres" id="6_r5fm0"]

[sub_resource type="Animation" id="Animation_sw0te"]
length = 0.001

[sub_resource type="Animation" id="Animation_hvpxw"]
resource_name = "dodge"
length = 0.4
step = 0.025
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Vis/CharacterModel")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 0.2, 1, 0.993103, 0, 0, -0.117243, 0.3, 1, 0.649017, 0, 0, 0.760774, 0.375, 1, 0, 0, 0, 1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i4q6j"]
_data = {
"RESET": SubResource("Animation_sw0te"),
"dodge": SubResource("Animation_hvpxw")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kckpi"]
render_priority = 0
shader = ExtResource("5_p1yos")
shader_parameter/outline_color = null
shader_parameter/outline_width = 2.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_g010x"]
resource_name = "Material"
next_pass = SubResource("ShaderMaterial_kckpi")
cull_mode = 2
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("4_qfkuq")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_s1hbn"]
_surfaces = [{
"aabb": AABB(-0.482742, -1.50228, -0.371136, 0.965485, 2.37094, 0.702661),
"format": 4097,
"index_count": 108,
"index_data": PackedByteArray(1, 0, 6, 0, 3, 0, 1, 0, 7, 0, 6, 0, 5, 0, 6, 0, 7, 0, 5, 0, 4, 0, 6, 0, 8, 0, 7, 0, 1, 0, 8, 0, 5, 0, 7, 0, 3, 0, 4, 0, 10, 0, 3, 0, 6, 0, 4, 0, 1, 0, 2, 0, 0, 0, 1, 0, 3, 0, 2, 0, 8, 0, 0, 0, 11, 0, 8, 0, 1, 0, 0, 0, 10, 0, 5, 0, 8, 0, 10, 0, 4, 0, 5, 0, 3, 0, 9, 0, 2, 0, 3, 0, 10, 0, 9, 0, 0, 0, 9, 0, 11, 0, 0, 0, 2, 0, 9, 0, 13, 0, 18, 0, 19, 0, 13, 0, 15, 0, 18, 0, 17, 0, 18, 0, 16, 0, 17, 0, 19, 0, 18, 0, 8, 0, 19, 0, 17, 0, 8, 0, 13, 0, 19, 0, 15, 0, 16, 0, 18, 0, 15, 0, 10, 0, 16, 0, 13, 0, 14, 0, 15, 0, 13, 0, 12, 0, 14, 0, 8, 0, 12, 0, 13, 0, 8, 0, 11, 0, 12, 0, 10, 0, 17, 0, 16, 0, 10, 0, 8, 0, 17, 0, 15, 0, 9, 0, 10, 0, 15, 0, 14, 0, 9, 0, 12, 0, 9, 0, 14, 0, 12, 0, 11, 0, 9, 0),
"name": "Material",
"primitive": 3,
"vertex_count": 20,
"vertex_data": PackedByteArray(58, 83, 204, 62, 142, 95, 94, 63, 69, 222, 171, 190, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 190, 58, 83, 204, 62, 142, 95, 94, 63, 7, 33, 98, 62, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 62, 164, 195, 38, 62, 186, 74, 192, 191, 185, 92, 41, 62, 164, 195, 38, 62, 186, 74, 192, 191, 130, 119, 190, 189, 5, 170, 214, 62, 186, 74, 192, 191, 185, 92, 41, 62, 5, 170, 214, 62, 186, 74, 192, 191, 130, 119, 190, 189, 0, 0, 0, 0, 0, 42, 247, 190, 141, 5, 190, 190, 0, 0, 0, 0, 142, 95, 94, 63, 7, 33, 98, 62, 0, 0, 0, 0, 0, 42, 247, 190, 153, 189, 169, 62, 0, 0, 0, 0, 142, 95, 94, 63, 69, 222, 171, 190, 58, 83, 204, 190, 142, 95, 94, 63, 69, 222, 171, 190, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 190, 58, 83, 204, 190, 142, 95, 94, 63, 7, 33, 98, 62, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 62, 164, 195, 38, 190, 186, 74, 192, 191, 185, 92, 41, 62, 164, 195, 38, 190, 186, 74, 192, 191, 130, 119, 190, 189, 5, 170, 214, 190, 186, 74, 192, 191, 185, 92, 41, 62, 5, 170, 214, 190, 186, 74, 192, 191, 130, 119, 190, 189)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_1nx2r"]
resource_name = "burial_body_Cube"
_surfaces = [{
"aabb": AABB(-0.482742, -1.50228, -0.371136, 0.965485, 2.37094, 0.702661),
"attribute_data": PackedByteArray(0, 0, 144, 62, 0, 0, 128, 60, 0, 0, 248, 62, 0, 0, 128, 63, 0, 0, 48, 63, 0, 0, 16, 63, 0, 0, 144, 62, 0, 0, 20, 63, 0, 0, 248, 62, 0, 0, 224, 62, 0, 0, 64, 61, 0, 0, 128, 60, 0, 0, 48, 63, 0, 0, 128, 60, 0, 0, 48, 63, 0, 0, 176, 62, 0, 0, 0, 128, 0, 0, 20, 63, 0, 0, 48, 63, 0, 0, 20, 63, 0, 0, 16, 63, 0, 0, 128, 63, 0, 0, 48, 63, 0, 0, 112, 62, 0, 0, 108, 63, 0, 0, 128, 63, 0, 0, 184, 62, 0, 0, 0, 0, 0, 0, 48, 63, 0, 0, 176, 62, 0, 0, 80, 63, 0, 0, 128, 63, 0, 0, 128, 61, 0, 0, 128, 63, 0, 0, 44, 63, 0, 0, 128, 63, 0, 0, 76, 63, 0, 0, 112, 62, 0, 0, 48, 62, 0, 0, 128, 63, 0, 0, 240, 62, 0, 0, 0, 0, 0, 0, 76, 63, 0, 0, 176, 62, 0, 0, 144, 62, 0, 0, 224, 62, 0, 0, 48, 63, 0, 0, 16, 63, 0, 0, 248, 62, 0, 0, 128, 60, 0, 0, 104, 63, 0, 0, 176, 62, 0, 0, 248, 62, 0, 0, 20, 63, 0, 0, 128, 63, 0, 0, 16, 63, 0, 0, 144, 62, 0, 0, 128, 63, 0, 0, 104, 63, 0, 0, 16, 63, 0, 0, 144, 62, 0, 0, 128, 60, 0, 0, 248, 62, 0, 0, 128, 63, 0, 0, 48, 63, 0, 0, 16, 63, 0, 0, 144, 62, 0, 0, 20, 63, 0, 0, 248, 62, 0, 0, 224, 62, 0, 0, 64, 61, 0, 0, 128, 60, 0, 0, 48, 63, 0, 0, 128, 60, 0, 0, 48, 63, 0, 0, 176, 62, 0, 0, 0, 128, 0, 0, 20, 63, 0, 0, 48, 63, 0, 0, 20, 63, 0, 0, 16, 63, 0, 0, 128, 63, 0, 0, 48, 63, 0, 0, 112, 62, 0, 0, 108, 63, 0, 0, 128, 63, 0, 0, 184, 62, 0, 0, 0, 0, 0, 0, 48, 63, 0, 0, 176, 62, 0, 0, 80, 63, 0, 0, 128, 63, 0, 0, 128, 61, 0, 0, 128, 63, 0, 0, 44, 63, 0, 0, 128, 63, 0, 0, 76, 63, 0, 0, 112, 62, 0, 0, 48, 62, 0, 0, 128, 63, 0, 0, 240, 62, 0, 0, 0, 0, 0, 0, 76, 63, 0, 0, 176, 62),
"format": 4119,
"index_count": 108,
"index_data": PackedByteArray(3, 0, 16, 0, 8, 0, 3, 0, 19, 0, 16, 0, 14, 0, 18, 0, 21, 0, 14, 0, 11, 0, 18, 0, 22, 0, 20, 0, 4, 0, 22, 0, 13, 0, 20, 0, 9, 0, 10, 0, 26, 0, 9, 0, 17, 0, 10, 0, 3, 0, 5, 0, 0, 0, 3, 0, 8, 0, 5, 0, 22, 0, 1, 0, 28, 0, 22, 0, 4, 0, 1, 0, 27, 0, 15, 0, 23, 0, 27, 0, 12, 0, 15, 0, 9, 0, 24, 0, 6, 0, 9, 0, 26, 0, 24, 0, 2, 0, 25, 0, 29, 0, 2, 0, 7, 0, 25, 0, 33, 0, 46, 0, 49, 0, 33, 0, 38, 0, 46, 0, 44, 0, 48, 0, 41, 0, 44, 0, 51, 0, 48, 0, 22, 0, 50, 0, 43, 0, 22, 0, 34, 0, 50, 0, 39, 0, 40, 0, 47, 0, 39, 0, 26, 0, 40, 0, 33, 0, 35, 0, 38, 0, 33, 0, 30, 0, 35, 0, 22, 0, 31, 0, 34, 0, 22, 0, 28, 0, 31, 0, 27, 0, 45, 0, 42, 0, 27, 0, 23, 0, 45, 0, 39, 0, 24, 0, 26, 0, 39, 0, 36, 0, 24, 0, 32, 0, 25, 0, 37, 0, 32, 0, 29, 0, 25, 0),
"material": SubResource("StandardMaterial3D_g010x"),
"name": "Material",
"primitive": 3,
"vertex_count": 52,
"vertex_data": PackedByteArray(58, 83, 204, 62, 142, 95, 94, 63, 69, 222, 171, 190, 100, 212, 180, 213, 42, 32, 152, 143, 58, 83, 204, 62, 142, 95, 94, 63, 69, 222, 171, 190, 100, 212, 180, 213, 106, 192, 39, 176, 58, 83, 204, 62, 142, 95, 94, 63, 69, 222, 171, 190, 100, 212, 180, 213, 87, 32, 199, 223, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 190, 56, 249, 75, 61, 152, 6, 44, 226, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 190, 56, 249, 75, 61, 178, 188, 240, 194, 58, 83, 204, 62, 142, 95, 94, 63, 7, 33, 98, 62, 135, 169, 124, 173, 147, 223, 50, 241, 58, 83, 204, 62, 142, 95, 94, 63, 7, 33, 98, 62, 135, 169, 124, 173, 11, 223, 174, 160, 58, 83, 204, 62, 142, 95, 94, 63, 7, 33, 98, 62, 135, 169, 124, 173, 161, 62, 120, 208, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 62, 178, 189, 139, 125, 118, 253, 223, 159, 0, 42, 247, 62, 0, 42, 247, 190, 153, 189, 169, 62, 178, 189, 139, 125, 160, 253, 6, 224, 164, 195, 38, 62, 186, 74, 192, 191, 185, 92, 41, 62, 124, 88, 239, 78, 252, 195, 92, 175, 164, 195, 38, 62, 186, 74, 192, 191, 185, 92, 41, 62, 124, 88, 239, 78, 252, 195, 92, 175, 164, 195, 38, 62, 186, 74, 192, 191, 185, 92, 41, 62, 124, 88, 239, 78, 185, 154, 151, 208, 164, 195, 38, 62, 186, 74, 192, 191, 130, 119, 190, 189, 112, 51, 221, 38, 4, 222, 143, 162, 164, 195, 38, 62, 186, 74, 192, 191, 130, 119, 190, 189, 112, 51, 221, 38, 4, 222, 143, 162, 164, 195, 38, 62, 186, 74, 192, 191, 130, 119, 190, 189, 112, 51, 221, 38, 50, 103, 149, 175, 5, 170, 214, 62, 186, 74, 192, 191, 185, 92, 41, 62, 230, 169, 243, 80, 103, 224, 17, 142, 5, 170, 214, 62, 186, 74, 192, 191, 185, 92, 41, 62, 230, 169, 243, 80, 165, 221, 109, 223, 5, 170, 214, 62, 186, 74, 192, 191, 185, 92, 41, 62, 230, 169, 243, 80, 165, 221, 109, 223, 5, 170, 214, 62, 186, 74, 192, 191, 130, 119, 190, 189, 248, 207, 119, 43, 199, 29, 132, 242, 5, 170, 214, 62, 186, 74, 192, 191, 130, 119, 190, 189, 248, 207, 119, 43, 143, 191, 210, 209, 5, 170, 214, 62, 186, 74, 192, 191, 130, 119, 190, 189, 248, 207, 119, 43, 176, 191, 67, 210, 0, 0, 0, 0, 0, 42, 247, 190, 141, 5, 190, 190, 124, 236, 0, 0, 194, 1, 190, 64, 0, 0, 0, 0, 0, 42, 247, 190, 141, 5, 190, 190, 124, 236, 0, 0, 255, 127, 60, 118, 0, 0, 0, 0, 142, 95, 94, 63, 7, 33, 98, 62, 255, 127, 157, 194, 0, 0, 255, 63, 0, 0, 0, 0, 142, 95, 94, 63, 7, 33, 98, 62, 255, 127, 157, 194, 255, 255, 255, 63, 0, 0, 0, 0, 0, 42, 247, 190, 153, 189, 169, 62, 255, 127, 116, 115, 0, 0, 255, 63, 0, 0, 0, 0, 0, 42, 247, 190, 153, 189, 169, 62, 255, 127, 116, 115, 255, 127, 82, 6, 0, 0, 0, 0, 142, 95, 94, 63, 69, 222, 171, 190, 141, 191, 255, 255, 0, 0, 255, 63, 0, 0, 0, 0, 142, 95, 94, 63, 69, 222, 171, 190, 141, 191, 255, 255, 255, 255, 255, 63, 58, 83, 204, 190, 142, 95, 94, 63, 69, 222, 171, 190, 154, 43, 180, 213, 212, 223, 102, 112, 58, 83, 204, 190, 142, 95, 94, 63, 69, 222, 171, 190, 154, 43, 180, 213, 148, 63, 215, 79, 58, 83, 204, 190, 142, 95, 94, 63, 69, 222, 171, 190, 154, 43, 180, 213, 167, 223, 55, 32, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 190, 198, 6, 75, 61, 102, 249, 210, 29, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 190, 198, 6, 75, 61, 76, 67, 14, 61, 58, 83, 204, 190, 142, 95, 94, 63, 7, 33, 98, 62, 119, 86, 124, 173, 107, 32, 204, 14, 58, 83, 204, 190, 142, 95, 94, 63, 7, 33, 98, 62, 119, 86, 124, 173, 243, 32, 80, 95, 58, 83, 204, 190, 142, 95, 94, 63, 7, 33, 98, 62, 119, 86, 124, 173, 93, 193, 134, 47, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 62, 76, 66, 139, 125, 136, 2, 31, 96, 0, 42, 247, 190, 0, 42, 247, 190, 153, 189, 169, 62, 76, 66, 139, 125, 94, 2, 248, 31, 164, 195, 38, 190, 186, 74, 192, 191, 185, 92, 41, 62, 130, 167, 239, 78, 2, 60, 162, 80, 164, 195, 38, 190, 186, 74, 192, 191, 185, 92, 41, 62, 130, 167, 239, 78, 2, 60, 162, 80, 164, 195, 38, 190, 186, 74, 192, 191, 185, 92, 41, 62, 130, 167, 239, 78, 69, 101, 103, 47, 164, 195, 38, 190, 186, 74, 192, 191, 130, 119, 190, 189, 142, 204, 221, 38, 250, 33, 111, 93, 164, 195, 38, 190, 186, 74, 192, 191, 130, 119, 190, 189, 142, 204, 221, 38, 250, 33, 111, 93, 164, 195, 38, 190, 186, 74, 192, 191, 130, 119, 190, 189, 142, 204, 221, 38, 204, 152, 105, 80, 5, 170, 214, 190, 186, 74, 192, 191, 185, 92, 41, 62, 24, 86, 243, 80, 151, 31, 237, 113, 5, 170, 214, 190, 186, 74, 192, 191, 185, 92, 41, 62, 24, 86, 243, 80, 89, 34, 145, 32, 5, 170, 214, 190, 186, 74, 192, 191, 185, 92, 41, 62, 24, 86, 243, 80, 89, 34, 145, 32, 5, 170, 214, 190, 186, 74, 192, 191, 130, 119, 190, 189, 6, 48, 119, 43, 55, 226, 122, 13, 5, 170, 214, 190, 186, 74, 192, 191, 130, 119, 190, 189, 6, 48, 119, 43, 111, 64, 44, 46, 5, 170, 214, 190, 186, 74, 192, 191, 130, 119, 190, 189, 6, 48, 119, 43, 78, 64, 187, 45)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_s1hbn")

[sub_resource type="SphereMesh" id="SphereMesh_0nncn"]
material = ExtResource("6_r5fm0")
radius = 0.33
height = 0.66
radial_segments = 16
rings = 8

[sub_resource type="PrismMesh" id="PrismMesh_sy837"]
material = ExtResource("6_r5fm0")
size = Vector3(0.2, 0.2, 0.2)

[node name="Burial" node_paths=PackedStringArray("current_weapon", "body_animations", "head_mesh") instance=ExtResource("1_gmh56")]
script = ExtResource("2_icigi")
current_weapon = NodePath("Longsword")
body_animations = NodePath("AnimationPlayer")
head_mesh = NodePath("Vis/CharacterModel/Cube/Node3D")
underwater_env = null
acceleration = 8
air_control = 0.3

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="0"]
libraries = {
"": SubResource("AnimationLibrary_i4q6j")
}

[node name="Longsword" parent="." index="1" instance=ExtResource("2_7nb22")]

[node name="Head" parent="." index="11"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.959024, 0)

[node name="DodgeAbility3D" parent="." index="12"]
dodge_strength = 7.0

[node name="LookDummy" type="Node3D" parent="Vis" index="0"]

[node name="CharacterModel" type="Node3D" parent="Vis" index="1"]

[node name="Cube" type="MeshInstance3D" parent="Vis/CharacterModel" index="0"]
transform = Transform3D(-0.7, 0, -6.11959e-08, 0, 0.7, 0, 6.11959e-08, 0, -0.7, 0, 0.0501662, 0.0131173)
mesh = SubResource("ArrayMesh_1nx2r")
skeleton = NodePath("")

[node name="Node3D" type="Node3D" parent="Vis/CharacterModel/Cube" index="0"]
transform = Transform3D(-1.42857, 0, -3.40711e-08, 0, 1.42857, 0, 3.40711e-08, 0, -1.42857, -0.0119468, 0.89895, -0.0407363)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Vis/CharacterModel/Cube/Node3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.321988, -0.00500858)
mesh = SubResource("SphereMesh_0nncn")
skeleton = NodePath("../../../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Vis/CharacterModel/Cube/Node3D" index="1"]
transform = Transform3D(0.999998, 0.00125538, -0.00141359, 0.00141647, -0.0022858, 0.999996, 0.00125214, -0.999997, -0.00228758, -2.22586e-07, 0.245971, -0.266973)
mesh = SubResource("PrismMesh_sy837")
